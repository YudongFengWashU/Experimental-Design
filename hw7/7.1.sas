data yield;
	do D = -1 to 1 by 2;
	do C = -1 to 1 by 2;
	do B = -1 to 1 by 2; 
	do A = -1 to 1 by 2;
	input y @@; output; end; end; end; end;
	do D = -1 to 1 by 2;
	do C = -1 to 1 by 2;
	do B = -1 to 1 by 2; 
	do A = -1 to 1 by 2;
	input y @@; output; end; end; end; end;
	datalines;
	90 74 81 83 77 81 88 73 98 72 87 85 99 79 87 80 93 78 85 80 78 80 82 70 95 76 83 86 90 75 84 80
;
run;
data inter;
	set yield;
	AB=A*B; AC=A*C; AD=A*D; BC=B*C; BD=B*D; CD=C*D;
	ABC=AB*C; ABD=AB*D; ACD=AC*D; BCD=BC*D; ABCD=ABC*D;
run;
proc glm data=inter; 
	class A B C D AB AC AD BC BD CD ABC ABD ACD BCD ABCD;
	model y=A B C D AB AC AD BC BD CD ABC ABD ACD BCD ABCD;
	estimate 'A' A -1 1;
	estimate 'B' B -1 1;
	estimate 'C' C -1 1;
	estimate 'D' D -1 1;
	estimate 'AB' AB -1 1;
	estimate 'AC' AC -1 1;
	estimate 'AD' AD -1 1;
	estimate 'BC' BC -1 1;
	estimate 'BD' BD -1 1;
	estimate 'CD' CD -1 1;
	estimate 'ABC' ABC -1 1;
	estimate 'ABD' ABD -1 1;
	estimate 'ACD' ACD -1 1;
	estimate 'BCD' BCD -1 1;
	estimate 'ABCD' ABCD -1 1;
run;
proc reg outest=effects data=inter;
	model y=A B C D AB AC AD BC BD CD ABC ABD ACD BCD ABCD;
run;
